<div class="uib-modal__content">
  <div class="modal-header">
    <h2 class="modal-title" id="modal_label">
      Add new certificate
    </h2>
    <button
      type="button"
      class="btn  btn--close"
      ng-click="$dismiss()"
      aria-label="close">
      <icon file="icon-close.svg" aria-hidden="true"></icon>
    </button>
  </div>
  <form
    name="add__cert__form"
    id="add__cert__form"
    ng-class="{'submitted': submitted}">
    <div class="modal-body">
      <div class="form__field">
        <label class="content-label" for="cert__type">Certificate type</label>
        <select
          class="cert-dropdown"
          id="cert__type"
          name="cert__type"
          ng-model="newCertificate.selectedType"
          required>
          <option class="courier-bold" ng-value="">Select an option</option>
          <option
            class="courier-bold"
            ng-value="type"
            ng-repeat="type in availableCertificateTypes">
            {{ type.name }}
          </option>
        </select>
        <div
          ng-messages="add__cert__form.cert__type.$error"
          class="form-error"
          ng-class="{'visible' : add__cert__form.cert__type.$touched || submitted }">
          <p ng-message="required">Field is required</p>
        </div>
      </div>
      <div class="content-label form__field">Certificate file</div>
      <div class="file-upload">
        <label for="upload_cert_new" class="file-upload-btn btn btn-secondary" tabindex="0">Choose file</label>
        <input
          name="upload_cert_new"
          id="upload_cert_new"
          type="file"
          file="newCertificate.file"
          class="file-upload-input"/>
        <div class="form__field file-upload-container">
          <span ng-hide="newCertificate.file">No file selected</span>
          <span>{{ newCertificate.file.name }}</span>
          <button
            type="reset"
            class="btn file-upload-reset"
            ng-if="newCertificate.file.name"
            ng-click="newCertificate.file = '';"
            aria-label="remove selected file">
            <icon file="icon-close.svg" aria-hidden="true"></icon>
          </button>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button
        type="button"
        class="btn btn-secondary"
        ng-click="$dismiss(); add__cert__form.$setUntouched();">
        Cancel
      </button>
      <button
        type="submit"
        class="btn btn-primary"
        ng-click="submitted = true; uploadCertificate();"
        ng-disabled="add__cert__form.$invalid || !newCertificate.file">
        Save
      </button>
    </div>
  </form>
</div>
